<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  div#olympic-container {
    overflow-y: scroll;
    overflow-x: hidden;
    width: 100%;
    max-width: 750px;
    text-align: left;
    background-color: #eee;
    margin: 25px auto;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  div#olympic-container div#left-side {
    width: 30%;
    display: inline-block;
  }

  div#olympic-container div#left-side div#profile-picture {
    height: 250px;
    width: 100%;
    background-image: url("http://via.placeholder.com/350x350");
    background-size: cover;
    background-position: center center;
  }

  div#olympic-container div#left-side div#menu-container {
    width: 100%;
  }

  div#olympic-container div#left-side div#menu-container div.menu-item {
    width: 100%;
    background-color: #ccc;
    padding: 15px 25px;
    cursor: pointer;
    box-sizing: border-box;
  }

  div#olympic-container div#left-side div#menu-container div.menu-item i {
    width: 35px;
  }

  div#olympic-container div#left-side div#menu-container div.menu-item:hover {
    background-color: #bbb;
  }

  div#olympic-container div#left-side div#menu-container div.current-menu-item {
    background-color: #bbb;
  }

  div#olympic-container div#right-side {
    vertical-align: top;
    width: 69%;
    display: inline-block;
    box-sizing: border-box;
    padding: 15px;
    overflow-y: scroll;
  }

  div#olympic-container div#right-side div#about-section h1,
  div#olympic-container div#right-side div#medals-section h1,
  div#olympic-container div#right-side div#events-section h1 {
    font-size: 2em;
    line-height: 1em;
  }

  div#olympic-container div#right-side div#events-section div#events-container div.olympic-date {
    display: inline-block;
    width: 100px;
    height: 100px;
    text-align: center;
    background-color: #bbb;
    cursor: pointer;
    margin-right: 15px;
    margin-bottom: 15px;
  }

  div#olympic-container div#right-side div#events-section div#events-container div.olympic-date span.month {
    display: block;
    margin-top: 15px;
  }

  div#olympic-container div#right-side div#events-section div#events-container div.olympic-date span.date {
    font-size: 2em;
    font-weight: bold;
  }

  div#olympic-container div#right-side div#events-section div#events-container div.olympic-date:hover {
    opacity: 0.5;
  }

  div#olympic-container div#right-side div#about-section h1 {
    margin: 0px;
  }

  div#olympic-container div#right-side div#about-section p#profile-hometown {
    font-style: italic;
  }

  div#olympic-container div#right-side div#about-section p {
    margin-bottom: 15px;
  }

  div#olympic-container div#right-side div#about-section a#profile-read-more {
    color: cadetblue;
    margin-top: 15px;
  }

  div#olympic-container div#right-side div#about-section div#links-container a:link {
    color: #46b9ff;
  }

  div#olympic-container div#right-side div#about-section div#links-container a:hover {
    text-decoration: underline;
  }

  div#olympic-container div#right-side div#medals-section,
  div#olympic-container div#right-side div#events-section {
    display: none;
  }

  div#olympic-container div#profiles-container {
    width: 100%;
  }

  div#olympic-container div#profiles-container div.profile-preview {
    display: inline-block;
    width: 20.08%;
    height: 125px;
    background-image: url("http://via.placeholder.com/350x350");
    background-size: cover;
    background-position: center center;
    cursor: pointer;
    margin-left: -4px;
    margin-bottom: -5px;
  }

  div#olympic-container div#profiles-container div.profile-preview:hover {
    opacity: 0.5;
  }

  @media screen and (max-device-width: 500px),
  screen and (max-width: 550px) {
    div#olympic-container div#left-side,
    div#olympic-container div#right-side {
      width: 100%;
      overflow-y: auto;
    }
    div#olympic-container div#left-side div#menu-container {
      white-space: nowrap;
    }
    div#olympic-container div#left-side div#menu-container div.menu-item {
      font-size: 1em;
      width: 33%;
      display: inline-block;
      text-align: center;
    }
    div#olympic-container div#left-side div#menu-container div.menu-item i {
      margin: 0px auto;
      display: block;
    }
    div#olympic-container div#right-side {
      padding-bottom: 50px;
    }
    div#olympic-container div#right-side div#about-section,
    div#olympic-container div#right-side div#medals-section,
    div#olympic-container div#right-side div#events-section {
      font-size: 1em;
      box-sizing: border-box;
    }
    div#olympic-container div#right-side div#about-section h1,
    div#olympic-container div#right-side div#medals-section h1,
    div#olympic-container div#right-side div#events-section h1 {
      margin-top: 25px;
    }
    div#olympic-container div#right-side div#events-section div#events-container div.olympic-date {
      width: 75px;
      height: 75px;
    }
    div#olympic-container div#right-side div#events-section div#events-container div.olympic-date span.month {
      margin-top: 2px;
    }
    div#olympic-container div#profiles-container div.profile-preview:hover {
      opacity: 1;
    }
  }
</style>

<div id="olympic-container">
  <div id="left-side">
    <div id="profile-picture"></div>
    <div id="menu-container">
      <div class="menu-item current-menu-item" id="about-btn">
        <i class="fa fa-user" aria-hidden="true"></i>
        About
      </div>
      <div class="menu-item" id="medals-btn">
        <i class="fa fa-trophy" aria-hidden="true"></i>
        Medals
      </div>
      <div class="menu-item" id="events-btn">
        <i class="fa fa-calendar" aria-hidden="true"></i>
        Events
      </div>
    </div>
  </div>
  <div id="right-side">
    <div id="about-section">
      <h1 id="profile-name"></h1>
      <p id="profile-hometown">loading..</p>
      <p id="profile-about">loading...</p>
      <div id="links-container"></div>
    </div>
    <div id="medals-section">
      <h1>Medals</h1>
      <div id="medals-container"></div>
    </div>
    <div id="events-section">
      <h1>Events</h1>
      <div id="events-container"></div>
      <span id="event-info">Click an event to see info</span>
    </div>
  </div>
  <div id="profiles-container">
    <div data-val="1" class="profile-preview"></div>
    <div data-val="2" class="profile-preview"></div>
    <div data-val="3" class="profile-preview"></div>
    <div data-val="4" class="profile-preview"></div>
    <div data-val="5" class="profile-preview"></div>
    <div data-val="6" class="profile-preview"></div>
    <div data-val="7" class="profile-preview"></div>
    <div data-val="8" class="profile-preview"></div>
    <div data-val="9" class="profile-preview"></div>
    <div data-val="10" class="profile-preview"></div>
    <div data-val="11" class="profile-preview"></div>
    <div data-val="12" class="profile-preview"></div>
    <div data-val="13" class="profile-preview"></div>
    <div data-val="14" class="profile-preview"></div>
  </div>
</div>

<script>
  (function () {
    var data = {
      athletes: [{
          "name": "Nathan Chen",
          "photo": "https://media.deseretdigital.com/file/c0c6910545?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 18,
          "sport": "Figure skating",
          "hometown": "Salt Lake City",
          "about": "This 18-year-old is the two-time reigning U.S. figure skating champion, and he's planning to attempt seven quads in his two programs.",
          "link-1": "https://www.deseretnews.com/article/865694817/With-his-2nd-national-title-Salt-Lakes-Nathan-Chen-realizes-childhood-dream-to-be-an-Olympian.html",
          "link-1-title": "With his 2nd national title, Salt Lake's Nathan Chen realizes childhood dream to be an Olympian",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 216,
          "event-2": 2161,
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Jerica Tandiman",
          "photo": "https://media.deseretdigital.com/file/2a052e7452?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 23,
          "sport": "Long track speedskating",
          "hometown": "Kearns",
          "about": "Competing in her first Olympics, the 23-year-old Kearns High graduate grew up in a neighborhood adjacent to the Utah Olympic Oval.",
          "link-1": "https://www.ksl.com/?nid=148&sid=46235789",
          "link-1-title": "Kearns speedskater heading to compete in Winter Olympics",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 217,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Sarah Hendrickson",
          "photo": "https://media.deseretdigital.com/file/9356125671?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 23,
          "sport": "Ski jumping",
          "hometown": "Park City",
          "about": "The 23-year-old won the 2013 World Championship and was a contender for Olympic gold before injuring her knee six months before the 2014 Sochi Winter Games. Despite pain, she competed and finished 21st.",
          "link-1": "https://www.deseretnews.com/article/865694587/Ski-jumping-veterans-shake-off-years-of-heartbreak-to-realize-an-Olympic-dream-in-front-of-a.html",
          "link-1-title": "Ski jumping veterans shake off years of heartbreak to realize an Olympic dream in front of a record-breaking crowd",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 218,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Taylor Morris",
          "photo": "https://media.deseretdigital.com/file/3fc1885882?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 26,
          "sport": "Luge",
          "hometown": "South Jordan",
          "about": "This Bingham High grad missed making the 2014 Olympic team by a fraction of a second.",
          "link-1": "",
          "link-1-title": "",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 219,
          "event-2": 2191,
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Rosie Brennan",
          "photo": "https://media.deseretdigital.com/file/e945080842?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 29,
          "sport": "Cross-country skiing",
          "hometown": "Park City",
          "about": "Starting dreaming about being an Olympian after watching the U.S. gymnastics team win gold in the 1998 Summer Games.",
          "link-1": "https://www.deseretnews.com/article/865570011/Park-City-native-Rosie-Brennan-wins-her-first-national-cross-country-title.html",
          "link-1-title": "2013: Park City native Rosie Brennan wins her first national cross country title",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 220,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Madison Olsen",
          "photo": "https://media.deseretdigital.com/file/0b03a73065?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 22,
          "sport": "Freestyle skiing",
          "hometown": "Park City",
          "about": "The 22-year-old has been injured off and on the last three years, which turned out to be a blessing as she was able to spend time with her father who was battling cancer.",
          "link-1": "https://www.deseretnews.com/article/865695019/US-skiers-have-a-fruitful-but-frustrating-night-as-Kiley-McKinnon-qualifies-for-the-Olympic-team.html",
          "link-1-title": "U.S. skiers have a fruitful but frustrating night as Kiley McKinnon, qualifies for the Olympic team",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 221,
          "event-2": 2211,
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Abby Ringquist",
          "photo": "https://media.deseretdigital.com/file/1d63664102?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 28,
          "sport": "Ski jumping",
          "hometown": "Park City",
          "about": "The 28-year-old was one of the pioneers of the sport, but narrowly missed making the first U.S. Olympic team and the inaugural women's ski jump event in Sochi.",
          "link-1": "https://www.deseretnews.com/article/865694587/Ski-jumping-veterans-shake-off-years-of-heartbreak-to-realize-an-Olympic-dream-in-front-of-a.html",
          "link-1-title": "Ski jumping veterans shake off years of heartbreak to realize an Olympic dream in front of a record-breaking crowd",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 218,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Chris Fogt",
          "photo": "https://media.deseretdigital.com/file/59a5501367?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 34,
          "sport": "Bobsled",
          "hometown": "Alpine",
          "about": "This Army intelligence officer, who already owns a bronze medal (Sochi), came out of retirement to compete with fellow Utahn Steve Holcomb, the most successful U.S. bobsled pilot in history. After Holcomb's unexpected death in May, Fogt decided to stay with the team, honoring Holcomb's memory, and he will slide with pilot Justin Olsen, a fellow soldier and gold medalist from Holcomb's 2010 crew.",
          "link-1": "https://www.deseretnews.com/article/865693005/Alpine-native-Chris-Fogt-and-crew-will-honor-Steve-Holcomb-this-season-with-a-few-laughs.html",
          "link-1-title": "Alpine native Chris Fogt and crew will honor Steve Holcomb this season with a few laughs",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 222,
          "event-2": 2221,
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "2014: Bronze",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Faye Gulini",
          "photo": "https://media.deseretdigital.com/file/f2c90c2787?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 25,
          "sport": "Snowboarding",
          "hometown": "Cottonwood Heights",
          "about": "This 25-year-old qualified for her third Olympics after earning her first career World Cup podium. She placed fourth in the 2014 Sochi Games.",
          "link-1": "https://www.deseretnews.com/article/865671347/Utah-native-Faye-Gulini-other-snowboardcross-athletes-relish-competing-on-home-turf.html",
          "link-1-title": "Utah native Faye Gulini, other snowboardcross athletes relish competing on home turf",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 223,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Ted Ligety",
          "photo": "https://media.deseretdigital.com/file/d90b8b0477?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 33,
          "sport": "Alpine skiing",
          "hometown": "Park City",
          "about": "After being named to his fourth Olympic team, 33-year-old Ligety recently earned his first podium in two years as he's dealt with injury and back surgery.",
          "link-1": "https://www.deseretnews.com/article/900002781/ligety-healthy-and-skiing-fast-with-olympics-on-the-horizon.html",
          "link-1-title": "Ligety healthy and skiing fast with Olympics on the horizon",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 224,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "2006: Gold",
          "medal-2": "2014: Gold",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Megan McJames",
          "photo": "https://media.deseretdigital.com/file/9b7e6e0044?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 30,
          "sport": "Alpine skiing",
          "hometown": "Park City",
          "about": "This three-time Olympian was cut from the U.S. Ski Team in 2012 and has been training on her own since then.",
          "link-1": "https://www.deseretnews.com/article/765585687/Past-Olympic-skiers-want-to-continue-chasing-their-dream.html",
          "link-1-title": "2012: Past Olympic skiers want to continue chasing their dream",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 225,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Jared Goldberg",
          "photo": "https://media.deseretdigital.com/file/30a0914967?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 26,
          "sport": "Alpine skiing",
          "hometown": "Holladay",
          "about": "Goldberg, who watched the Opening Ceremonies in Rice-Eccles Stadium as a 10-year-old, was the youngest member of the men’s Alpine team in Sochi, earning 11th place in the combined and 19th in the slalom. ",
          "link-1": "",
          "link-1-title": "",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 226,
          "event-2": 2261,
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "McRae Williams",
          "photo": "https://media.deseretdigital.com/file/51088f0615?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 27,
          "sport": "Freestyle skiing",
          "hometown": "Park City",
          "about": "Received tickets to the aerial qualifications and finals during the 2002 Olympics from the late Jeret \"Speedy\" Peterson, who won silver with a trick, dubbed the Hurricane, that no aerial skier landed in competition during the 2010 Olympics.",
          "link-1": "",
          "link-1-title": "",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 227,
          "event-2": "",
          "event-3": "",
          "event-4": "",
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        },
        {
          "name": "Will Rhoads",
          "photo": "https://media.deseretdigital.com/file/6adfd80361?resize=width_200&type=image/jpeg&c=6&a=a5cd4dc4",
          "age": 22,
          "sport": "Ski jumping",
          "hometown": "Park City",
          "about": "The 22-year-old will be competing in his first Olympics after becoming enthralled with the sport during the 2002 Olympic competition, which took place in his hometown.",
          "link-1": "https://www.deseretnews.com/article/865659155/US-Nordic-Championships-culminate-in-Park-City.html",
          "link-1-title": "U.S. Nordic Championships culminate in Park City",
          " link-2": "",
          "link-2-title": "",
          "link-3": "",
          "link-3-title": "",
          "link-4": "",
          "link-4-title": "",
          "event-1": 228,
          "event-2": 2281,
          "event-3": 2282,
          "event-4": 2283,
          "event-5": "",
          "event-6": "",
          "medal-1": "",
          "medal-2": "",
          "medal-3": "",
          "medal-4": "",
          "medal-5": ""
        }
      ],
      events: {
        "216": "(2/15/18) Figure skating: Short program 6 p.m. (MST)",
        "2161": "(2/16/18) Figure skating: Freeskate program 6 p.m. (MST)",
        "217": "(2/14/18) Speedskating: 1,000 meters at 3 a.m. (MST)",
        "218": "(2/11/18) Ski jumping: Normal hill at 4:35 a.m. (MST)",
        "219": "(2/10/18) Luge:  Singles 3:10 a.m. (MST)",
        "2191": "(2/11/18) Luge: Singles 4 a.m. (MST)",
        "220": "(2/20/18) N/A: Events TBD",
        "221": "(2/15/18) Freestyle skiiing: Aerials aualfication 4 a.m. (MST)",
        "2211": "(2/16/18) Freesyle skiing: Aerials finals 4 a.m. (MST)",
        "222": "(2/23/18) Bobsled: 4-man 5:30 p.m. (MST)",
        "2221": "(2/24/18) Bobsled: 4-man 5:30 p.m. (MST)",
        "223": "(2/16/18) Snowboard: snowboardcross 6 p.m. (MST)",
        "224": "(2/17/18) Alpine skiing: Giant slalom 6:15 p.m. (MST)",
        "225": "(2/11/18) Alpine skiing: Giant slalom 6:15 p.m. (MST)",
        "226": "(2/10/18) Alpine skiing: Downhill 7 p.m. (MST)",
        "2261": "(2/12/18) Alpine skiing: Combined 7:30 p.m. (MST)",
        "227": "(2/16/18) Freestyle skiing: Slopestyle 6 p.m. (MST)",
        "228": "(2/8/18) Ski jumping: Men's normal hill 5:30 a.m. (MST)",
        "2281": "(2/10/18) Ski jumping: Normal hill 5:30 p.m. (MST)",
        "2282": "(2/16/18) Ski jumping: Large hill 4:15 a.m. (MST)",
        "2283": "(2/17/18) Ski jumping: Large hill 4:15 a.m. (MST)"
      }
    }
    var current = 0;
    var athlete = data.athletes[current];
    var eventNum = 5;
    var medalsNum = 5;

    function updateText(id, text) {
      var elem = document.getElementById(id);
      elem.innerHTML = text;
    }

    function loadEvents() {
      var container = document.getElementById('events-container');
      container.innerHTML = '';
      for (var x = 1; x <= eventNum; x++) {
        var event = athlete['event-' + x];
        if (event) {
          if (data.events[event]) {
            event = data.events[event];
            var date = event.match(/\((.*?)\)/);
            date = date[0].replace('(', '').replace(')', '');
            date = new Date(date);
            var month = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'][date.getMonth()];
            event = event.replace(/\((.*?)\)/, '');
            container.innerHTML += '<div class="olympic-date" data-desc="' + event + '" id="event-' + x +
              '"><span class="month">' + month + '</span><span class="date">' + date.getDate() + '</span></div>';
          }
        }
      }
      if (athlete['event-1']) {
        for (var x = 1; x <= 5; x++) {
          var container = document.getElementById('event-' + x);
          if (container) {
            container.onclick = function () {
              var event = this.getAttribute('data-desc');
              event = '<b>' + event.replace(':', ' - </b> ')
              document.getElementById('event-info').innerHTML = event;
              if ('ga' in window) {
                ga('send', 'event', 'Olympics Interactive', 'Event', this.getAttribute('data-desc'));
              }
            }
          }
        }
      } else {
        document.getElementById('event-info').innerHTML = 'No events have been scheduled';
      }
    }

    function loadMedals() {
      var container = document.getElementById('medals-container');
      container.innerHTML = '';
      if (athlete['medal-1']) {
        for (var x = 1; x <= 5; x++) {
          var medal = athlete['medal-' + x];
          if (medal) {
            medal = '<b>' + medal.replace(':', ' - </b>');
            container.innerHTML += medal + '<br />';
          }
        }
      } else {
        container.innerHTML += 'None';
      }
    }

    function loadLinks() {
      var container = document.getElementById('links-container');
      container.innerHTML = '';
      if (athlete['link-1']) {
        for (var x = 1; x <= 5; x++) {
          var link = athlete['link-' + x];
          var title = athlete['link-' + x + '-title'];
          if (link) {
            container.innerHTML += '<a target="_blank" href="' + link + '">' + title + '</a>';
          }
        }
      }
    }

    function loadProfile() {
      updateText('profile-name', athlete.name);
      updateText('profile-about', athlete.about);
      updateText('profile-hometown', athlete.hometown + ' (Age: ' + athlete.age + ')');
      document.getElementById('event-info').innerHTML = 'Click an event to see info';
      document.getElementById('profile-picture').style.backgroundImage = 'url(' + athlete.photo + ')';
      loadLinks();
      loadEvents();
      loadMedals();
    }

    function router(selected) {
      var sections = ['about', 'medals', 'events'];
      for (var x = 0, max = sections.length; x < max; x++) {
        var button = document.getElementById(sections[x] + '-btn');
        var section = document.getElementById(sections[x] + '-section');
        button.classList.remove('current-menu-item');
        section.style.display = 'none';
      }
      selected.classList.add('current-menu-item');
      document.getElementById(selected.id.replace('-btn', '') + '-section').style.display = 'block';
    }

    function resize() {
      var previewHeight = document.getElementsByClassName('profile-preview')[0].offsetWidth + 'px';
      for (var x = 0; x < 14; x++) {
        document.getElementsByClassName('profile-preview')[x].style.height = previewHeight;
      }
      previewHeight = document.getElementById('profile-picture').offsetWidth + 'px';
      document.getElementById('profile-picture').style.height = previewHeight;
      var leftSideHeight = document.getElementById('left-side').offsetHeight + 'px';
      if (window.innerWidth <= 550) {
        document.getElementById('right-side').style.height = 'auto';
      } else {
        document.getElementById('right-side').style.height = leftSideHeight;
      }
    }
    for (var x = 0; x < 3; x++) {
      document.getElementsByClassName('menu-item')[x].onclick = function () {
        router(this);
        if ('ga' in window) {
          ga('send', 'event', 'Olympics Interactive', 'Menu Item', this.id);
        }
      }
    }
    for (var x = 0; x < 14; x++) {
      document.getElementsByClassName('profile-preview')[x].onclick = function () {
        var num = parseInt(this.getAttribute('data-val'));
        current = num;
        athlete = data.athletes[num];
        loadProfile();
        if ('ga' in window) {
          ga('send', 'event', 'Olympics Interactive', 'Athlete', this.getAttribute('data-val'));
        }
      }
      var num = ((x + 1) + current) % data.athletes.length;
      var preview = document.getElementsByClassName('profile-preview')[x];
      preview.style.backgroundImage = 'url(' + data.athletes[num].photo + ')';
      preview.setAttribute('data-val', num);
    }
    window.onresize = resize;
    loadProfile();
    resize();
  })();
</script>